(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{28:function(e,t,a){e.exports=a(46)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(25),l=a.n(c),s=(a(33),a(2)),i=(a(34),a(4)),o=a(3),u=(a(35),function(e){var t=e.article,a=e.borderColor,c=void 0===a?"#009688":a,l=Object(r.useState)(),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(o.g)();return n.a.createElement("div",{className:"col s12 m12",onClick:function(){return e=t.id,m("#FF0000"),void setTimeout((function(){d.push("/articles/".concat(e))}),500);var e},onMouseEnter:function(){m(c)},onMouseLeave:function(){m("#f5f5f5")}},n.a.createElement("div",{className:"card horizontal",style:{borderColor:u}},n.a.createElement("div",{className:"card-image"},n.a.createElement("img",{src:"http://localhost:3000/"+t.imagePath,style:{width:"250px",margin:"0 auto"},alt:t.title})),n.a.createElement("div",{className:"card-content"},n.a.createElement("span",{className:"card-title"},t.title),n.a.createElement("span",{className:"card-title"},n.a.createElement("small",null,t.createdAt," ",t.isPublic?n.a.createElement("span",{className:"new badge  green darken-2","data-badge-caption":"article"},"public"):n.a.createElement("span",{className:"new badge red darken-2","data-badge-caption":"article"},"private"))),n.a.createElement("p",null,n.a.createElement("small",null,t.User.pseudo)),n.a.createElement("p",null,t.text),t.Tags&&t.Tags.map((function(e){return n.a.createElement("span",{key:e.name,className:"chip"},e.name)})))))}),m=a(5),d=a.n(m),v=a(11),p=a(15),f=a(16),h=a(10),b=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"getUser",value:function(){return new Promise((function(e){var t=Object(h.get)("user");t||e(null),e(t)}))}},{key:"postArticle",value:function(e,t){var a=this;return fetch("http://localhost:3000/article",{method:"POST",body:e,headers:{"x-access-token":t.token}}).then((function(e){return e.json()})).catch((function(e){return a.handleError(e)}))}},{key:"upArticle",value:function(e,t){var a=this;return fetch("http://localhost:3000/article",{method:"PUT",body:e,headers:{"x-access-token":t.token}}).then((function(e){return e.json()})).catch((function(e){return a.handleError(e)}))}},{key:"addArtcle",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a,r,n,c){var l,s,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new FormData;case 3:return l=e.sent,e.next=6,l.append("text",t);case 6:for(s=0;s<a.length;s++)l.append("tag[]",a[s]);return e.next=9,l.append("isPublic",JSON.stringify(c));case 9:return e.next=11,l.append("title",r);case 11:return e.next=13,l.append("avatarPath",n);case 13:return e.next=15,this.getUser();case 15:return i=e.sent,e.next=18,this.postArticle(l,i);case 18:if(null==(o=e.sent).Error){e.next=23;break}this.handleError(o.Error),e.next=24;break;case 23:return e.abrupt("return",!0);case 24:e.next=28;break;case 26:e.prev=26,e.t0=e.catch(0);case 28:case"end":return e.stop()}}),e,this,[[0,26]])})));return function(t,a,r,n,c){return e.apply(this,arguments)}}()},{key:"updateArtcle",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a,r,n,c,l){var s,i,o,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new FormData;case 3:return s=e.sent,e.next=6,s.append("id",JSON.stringify(t));case 6:return e.next=8,s.append("text",a);case 8:for(i=0;i<r.length;i++)s.append("Tags[]",r[i]);return e.next=11,s.append("isPublic",JSON.stringify(l));case 11:return e.next=13,s.append("title",n);case 13:return e.next=15,s.append("avatarPath",c);case 15:return e.next=17,this.getUser();case 17:return o=e.sent,e.next=20,this.upArticle(s,o);case 20:if(null==(u=e.sent).Error){e.next=25;break}this.handleError(u.Error),e.next=26;break;case 25:return e.abrupt("return",!0);case 26:e.next=30;break;case 28:e.prev=28,e.t0=e.catch(0);case 30:case"end":return e.stop()}}),e,this,[[0,28]])})));return function(t,a,r,n,c,l){return e.apply(this,arguments)}}()},{key:"getArticles",value:function(){var e=Object(v.a)(d.a.mark((function e(){var t,a=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUser();case 3:if(!(t=e.sent)){e.next=8;break}return e.abrupt("return",fetch("http://localhost:3000/article",{headers:{"x-access-token":t.token}}).then((function(e){return e.json()})).catch((function(e){return a.handleError(e)})));case 8:return e.abrupt("return",fetch("http://localhost:3000/articlepublic").then((function(e){return e.json()})).catch((function(e){return a.handleError(e)})));case 9:e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return");case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"searchArticle",value:function(e){var t=this;return fetch("http://localhost:3000/articlesearch/".concat(e)).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}))}},{key:"getArticle",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,r=this;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUser();case 3:if(!(a=e.sent)){e.next=6;break}return e.abrupt("return",fetch("http://localhost:3000/article/".concat(t),{headers:{"x-access-token":a.token}}).then((function(e){return e.json()})).then((function(e){return r.isEmpty(e)?null:e})).catch((function(e){return r.handleError(e)})));case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return");case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,r,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUser();case 3:if(!(a=e.sent)){e.next=15;break}return r=new Headers,n={id:t},r.append("Content-type","application/json"),r.append("x-access-token",a.token),e.next=11,fetch("http://localhost:3000/article",{method:"DELETE",headers:r,body:JSON.stringify(n)});case 11:return c=e.sent,e.next=14,c.json();case 14:e.sent;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.handleError(e.t0);case 20:case"end":return e.stop()}}),e,this,[[0,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"isEmpty",value:function(e){return 0===Object.keys(e).length}},{key:"handleError",value:function(e){return console.error(e),!1}}]),e}(),E=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(r.useState)([]),o=Object(s.a)(l,2),u=o[0],m=o[1];return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m6 offset-m3"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-content"},n.a.createElement("div",{className:"input-field"},n.a.createElement("input",{type:"text",placeholder:"Rechercher un Article",value:a,onChange:function(e){return function(e){var t=e.target.value;c(t),t.length<=1?m([]):b.searchArticle(t).then((function(e){return m(e)}))}(e)}})),n.a.createElement("div",{className:"collection"},u.map((function(e){return n.a.createElement(i.b,{key:e.id,to:"/articles/".concat(e.id),className:"collection-item"},e.title)})))))))},g=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){b.getArticles().then((function(e){return c(e)}))}),[]),n.a.createElement("div",null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(E,null),n.a.createElement("h1",null," Article",n.a.createElement(i.b,{to:"/articles/add",className:"btn-floating btn-large waves-effect waves-light red"},n.a.createElement("i",{className:"material-icons"},"add"))," "),a?a.map((function(e){return n.a.createElement(u,{key:e.id,article:e})})):n.a.createElement("h4",null,"No Article"))))},N=function(){return n.a.createElement("div",{className:"center"},n.a.createElement("img",{src:"http://assets.pokemon.com/assets/cms2/img/pokedex/full/035.png",alt:"Page non trouv\xe9e"}),n.a.createElement("h1",null,"Hey, cette page n'existe pas !"),n.a.createElement(i.b,{to:"/",className:"waves-effect waves-teal btn-flat"},"Retourner \xe0 l'accueil"))},j=a(1),x=a(7),O=function(){return n.a.createElement("div",{className:"preloader-wrapper big active"},n.a.createElement("div",{className:"spinner-layer spinner-blue"},n.a.createElement("div",{className:"circle-clipper left"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"gap-patch"},n.a.createElement("div",{className:"circle"})),n.a.createElement("div",{className:"circle-clipper right"},n.a.createElement("div",{className:"circle"}))))},w=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"getUser",value:function(){return new Promise((function(e){var t=Object(h.get)("user");t||e(null),e(t)}))}},{key:"delete",value:function(){var e=Object(v.a)(d.a.mark((function e(t){var a,r,n,c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUser();case 3:if(!(a=e.sent)){e.next=16;break}return r=new Headers,n={id:t},r.append("Content-type","application/json"),r.append("x-access-token",a.token),e.next=11,fetch("http://localhost:3000/commentaires",{method:"DELETE",headers:r,body:JSON.stringify(n)});case 11:return c=e.sent,e.next=14,c.json();case 14:null!=(l=e.sent).Error?console.log(l.Error[0]):console.log(l);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0.Error[0]),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a){var r,n,c,l,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUser();case 3:if(!(r=e.sent)){e.next=16;break}return n=new Headers,c={id:t,text:a},n.append("Content-type","application/json"),n.append("x-access-token",r.token),e.next=11,fetch("http://localhost:3000/commentaires",{method:"POST",headers:n,body:JSON.stringify(c)});case 11:return l=e.sent,e.next=14,l.json();case 14:null!=(s=e.sent).Error?console.log(s.Error[0]):console.log(s);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0.Error[0]),e.abrupt("return");case 22:case"end":return e.stop()}}),e,this,[[0,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){console.log("Handle"),console.error(e)}}]),e}(),y=function(e){var t=e.match,a=Object(r.useState)(null),c=Object(s.a)(a,2),l=c[0],u=c[1],m=Object(o.g)(),d=Object(r.useState)({id:{value:+t.params.id},text:{value:""}}),v=Object(s.a)(d,2),p=v[0],f=v[1],h=function(e){e.preventDefault(),function(){var e=p;if(p.text.value.length<3){var t={value:p.text.value,error:"Votre Message doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{text:t})}else if(p.text.value.length>255){var a={value:p.text.value,error:"Votre pr\xe9nom doit faire moins de 255 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{text:a})}else{var r={value:p.text.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{text:r})}return f(e),e.text.isValid}()&&(w.add(+t.params.id,p.text.value),m.go(0))};Object(r.useEffect)((function(){b.getArticle(+t.params.id).then((function(e){return u(e)})).catch((function(e){m.push("/pageNotF")}))}),[t.params.id]);return n.a.createElement("div",null,l?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m8 offset-m2"},n.a.createElement("h2",{className:"header center"},l.title),n.a.createElement("div",{className:"card hoverable"},n.a.createElement("div",{className:"card-image"},n.a.createElement("img",{src:"http://localhost:3000/"+l.imagePath,alt:l.title,style:{width:"250px",margin:"0 auto"}}),n.a.createElement(i.b,{to:"/articles/edit/".concat(l.id),className:"btn btn-floating halfway-fab waves-effect waves-light"},n.a.createElement("i",{className:"material-icons"},"edit"))),n.a.createElement("div",{className:"card-stacked"},n.a.createElement("div",{className:"card-content"},n.a.createElement("table",{className:"bordered striped"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Author"),n.a.createElement("td",null,n.a.createElement("div",{className:"chip"},n.a.createElement("img",{className:"imgAvatar",alt:"avatar",src:"http://localhost:3000/"+l.User.avatarPath}),l.User.pseudo))),n.a.createElement("tr",null,n.a.createElement("td",null,"Date"),n.a.createElement("td",null,n.a.createElement("strong",null,l.createdAt))),n.a.createElement("tr",null,n.a.createElement("td",null,"Text"),n.a.createElement("td",null,n.a.createElement("strong",null,l.text))),n.a.createElement("tr",null,n.a.createElement("td",null,"Tags"),n.a.createElement("td",null,l.Tags.map((function(e){return n.a.createElement("span",{key:e.name,className:"chip"},e.name)})))),n.a.createElement("tr",null,n.a.createElement("td",null,"Visible ?"),n.a.createElement("td",null,l.isPublic?n.a.createElement("span",{className:"new badge  green darken-2","data-badge-caption":"article"},"public"):n.a.createElement("span",{className:"new badge red darken-2","data-badge-caption":"article"},"private"))),l.Commentaires.map((function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("div",{className:"chip"},n.a.createElement("img",{key:e.avatarPath,className:"imgAvatar",alt:"avatar",src:"http://localhost:3000/"+e.avatarPath}),e.pseudo)),n.a.createElement("td",null,e.text),n.a.createElement("td",null,n.a.createElement("a",{className:"waves-effect waves-light btn",onClick:function(){return t=e.id,w.delete(t),void m.go(0);var t}},n.a.createElement("i",{className:"material-icons "},"delete"))))})))),n.a.createElement("div",{className:"row"},n.a.createElement("form",{onSubmit:function(e){return h(e)},className:"col s12"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"input-field col s12"},n.a.createElement("input",{type:"text",id:"text",name:"text",value:p.text.value,onChange:function(e){return function(e){var t=e.target.name,a=e.target.value,r=Object(x.a)({},t,{value:a});f(Object(j.a)(Object(j.a)({},p),r))}(e)},className:"materialize-textarea form-control"}),n.a.createElement("label",{className:"textarea1"},"Commentaire")),n.a.createElement("button",{type:"submit",className:"btn"},"Valider")),p.text.error&&n.a.createElement("div",{className:"card-panel red accent-1"},p.text.error)))),n.a.createElement("div",{className:"card-action"},n.a.createElement(i.b,{to:"/"},"Retour")),n.a.createElement("div",{className:"card-action"},n.a.createElement("a",{className:"waves-effect waves-light red btn",onClick:function(){return e=+t.params.id,b.delete(e),m.push("/blog"),void m.go(0);var e}},n.a.createElement("i",{className:"material-icons right"},"delete"),"Supprimer l'article")))))):n.a.createElement("h4",{className:"center"},n.a.createElement(O,null)))},k=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,null,[{key:"postLog",value:function(e){var t=this;return fetch("http://localhost:3000/login",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}))}},{key:"postReg",value:function(e){var t=this;return fetch("http://localhost:3000/user",{method:"POST",body:e}).then((function(e){return e.json()})).catch((function(e){return t.handleError(e)}))}},{key:"login",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={pseudo:t,password:a},e.next=4,this.postLog(r);case 4:if(null==(n=e.sent).Error){e.next=9;break}return e.abrupt("return",this.isAuthenticated);case 9:return Object(h.set)("user",n),e.abrupt("return",this.isAuthenticated=!0);case 11:e.next=16;break;case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(v.a)(d.a.mark((function e(t,a,r,n){var c,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new FormData;case 3:return c=e.sent,e.next=6,c.append("pseudo",t);case 6:return e.next=8,c.append("password",a);case 8:return e.next=10,c.append("email",r);case 10:return e.next=12,c.append("avatarPath",n);case 12:return e.next=14,this.postReg(c);case 14:if(null==(l=e.sent).Error){e.next=19;break}return e.abrupt("return",this.isAuthenticated);case 19:return Object(h.set)("user",l),e.abrupt("return",this.isAuthenticated=!0);case 21:e.next=26;break;case 23:return e.prev=23,e.t0=e.catch(0),e.abrupt("return",!1);case 26:case"end":return e.stop()}}),e,this,[[0,23]])})));return function(t,a,r,n){return e.apply(this,arguments)}}()},{key:"handleError",value:function(e){console.error(e)}}]),e}();k.isAuthenticated=!1;var V=function(){var e=Object(o.g)(),t=Object(r.useState)({pseudo:{value:""},password:{value:""}}),a=Object(s.a)(t,2),c=a[0],l=a[1],u=Object(r.useState)("Veuillez vous identifier !"),m=Object(s.a)(u,2),d=m[0],v=m[1],p=function(e){var t=e.target.name,a=e.target.value,r=Object(x.a)({},t,{value:a});l(Object(j.a)(Object(j.a)({},c),r))},f=function(t){t.preventDefault(),function(){var e=c;if(c.pseudo.value.length<3){var t={value:c.pseudo.value,error:"Votre pr\xe9nom doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{pseudo:t})}else{var a={value:c.pseudo.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{pseudo:a})}if(c.password.value.length<3){var r={value:c.password.value,error:"Votre mot de passe doit faire au moins 6 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{password:r})}else{var n={value:c.password.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{password:n})}return l(e),e.pseudo.isValid&&e.password.isValid}()&&(v("\ud83d\udc49 Tentative de connexion en cours ..."),k.login(c.pseudo.value,c.password.value).then((function(t){t?(e.push("/"),e.go(0)):v("\ud83d\udd10 Identifiant ou mot de passe incorrect.")})))};return n.a.createElement("form",{onSubmit:function(e){return f(e)}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m8 offset-m2"},n.a.createElement("div",{className:"card hoverable"},n.a.createElement("div",{className:"card-stacked"},n.a.createElement("div",{className:"card-content"},d&&n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"card-panel grey lighten-5"},d)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pseudo"},"Identifiant"),n.a.createElement("input",{id:"pseudo",type:"text",name:"pseudo",className:"form-control",value:c.pseudo.value,onChange:function(e){return p(e)}}),c.pseudo.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.pseudo.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Mot de passe"),n.a.createElement("input",{id:"password",type:"password",name:"password",className:"form-control",value:c.password.value,onChange:function(e){return p(e)}}),c.password.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.password.error))),n.a.createElement("div",{className:"card-action center"},n.a.createElement("button",{type:"submit",className:"btn"},"Valider"),n.a.createElement(i.b,{to:"/register",className:"btn  indigo accent-1"},"Register")))))))},A=a(27),P=function(e){var t=e.component,a=Object(A.a)(e,["component"]);return n.a.createElement(o.b,Object.assign({},a,{render:function(e){return(Object(h.get)("user")||"")&&(k.isAuthenticated=!0),k.isAuthenticated?n.a.createElement(t,e):n.a.createElement(o.a,{to:{pathname:"/login"}})}}))},S=function(){var e=Object(o.g)(),t=Object(r.useState)({pseudo:{value:""},password:{value:""},email:{value:""},avatar:{value:File}}),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(r.useState)("Inscription !"),u=Object(s.a)(i,2),m=u[0],d=u[1],v=function(e){var t=e.target.name,a=e.target.value,r=Object(x.a)({},t,{value:a});l(Object(j.a)(Object(j.a)({},c),r))},p=function(t){t.preventDefault(),function(){var e=c;if(c.pseudo.value.length<3){var t={value:c.pseudo.value,error:"Votre pr\xe9nom doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{pseudo:t})}else{var a={value:c.pseudo.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{pseudo:a})}if(c.email.value.length<3){var r={value:c.email.value,error:"Votre email doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{email:r})}else{var n={value:c.email.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{email:n})}if(c.password.value.length<3){var s={value:c.password.value,error:"Votre mot de passe doit faire au moins 6 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{password:s})}else{var i={value:c.password.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{password:i})}return l(e),e.pseudo.isValid&&e.password.isValid&&e.email.isValid}()&&(d("\ud83d\udc49 Tentative d enregistrement"),k.register(c.pseudo.value,c.password.value,c.email.value,c.avatar.value).then((function(t){t?(e.push("/"),e.go(0)):d("\ud83d\udd10 Bad Input.")})))};return n.a.createElement("form",{onSubmit:function(e){return p(e)}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m8 offset-m2"},n.a.createElement("div",{className:"card hoverable"},n.a.createElement("div",{className:"card-stacked"},n.a.createElement("div",{className:"card-content"},m&&n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"card-panel grey lighten-5"},m)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{id:"email",type:"text",name:"email",className:"form-control",value:c.email.value,onChange:function(e){return v(e)}}),c.email.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.email.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"pseudo"},"Pseudo"),n.a.createElement("input",{id:"pseudo",type:"text",name:"pseudo",className:"form-control",value:c.pseudo.value,onChange:function(e){return v(e)}}),c.pseudo.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.pseudo.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Mot de passe"),n.a.createElement("input",{id:"password",type:"password",name:"password",className:"form-control",value:c.password.value,onChange:function(e){return v(e)}}),c.password.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.password.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"file-field input-field"},n.a.createElement("div",{className:"btn"},n.a.createElement("span",null,"Avatar"),n.a.createElement("input",{type:"file",value:c.avatar.path,onChange:function(e){return function(e){if(e.target.files){var t=e.target.files[0],a=Object(x.a)({},"avatar",{value:t});l(Object(j.a)(Object(j.a)({},c),a))}}(e)}})),n.a.createElement("div",{className:"file-path-wrapper"},n.a.createElement("input",{id:"avatar",type:"text",name:"avatar",className:"form-control file-path validate"}))),c.avatar.error&&n.a.createElement("div",{className:"card-panel red accent-1"},c.avatar.error))),n.a.createElement("div",{className:"card-action center"},n.a.createElement("button",{type:"submit",className:"btn"},"Valider")))))))},C=a(13),T=a.n(C),F=function(){var e=Object(o.g)(),t=Object(r.useState)(!0),a=Object(s.a)(t,2),c=a[0],l=a[1],i=Object(r.useState)({text:{value:""},tags:{value:""},title:{value:""},avatar:{value:File},isPublic:{value:c}}),u=Object(s.a)(i,2),m=u[0],d=u[1],v=Object(r.useState)("Add Article"),p=Object(s.a)(v,2),f=p[0],h=p[1],E=function(e){var t=e.target.name,a=e.target.value,r=Object(x.a)({},t,{value:a});d(Object(j.a)(Object(j.a)({},m),r))},g=function(t){if(t.preventDefault(),function(){var e=m;if(m.text.value.length<3){var t={value:m.text.value,error:"Votre text doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{text:t})}else{var a={value:m.text.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{text:a})}if(m.title.value.length<3){var r={value:m.title.value,error:"Votre title doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{title:r})}else{var n={value:m.title.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{title:n})}var c={value:m.tags.value,error:"",isValid:!0};return e=Object(j.a)(Object(j.a)({},e),{tags:c}),d(e),e.text.isValid&&e.tags.isValid&&e.title.isValid}()){var a=T.a.split(m.tags.value,","),r=T.a.map(a,T.a.trim);b.addArtcle(m.text.value,r,m.title.value,m.avatar.value,m.isPublic.value).then((function(t){t?(h("Article ajout\xe9"),e.push("/"),e.go(0)):h("something go wrong")}))}};return n.a.createElement("form",{onSubmit:function(e){return g(e)}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m8 offset-m2"},n.a.createElement("div",{className:"card hoverable"},n.a.createElement("div",{className:"card-stacked"},n.a.createElement("div",{className:"card-content"},f&&n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"card-panel grey lighten-5"},f)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{id:"title",type:"text",name:"title",className:"form-control",value:m.title.value,onChange:function(e){return E(e)}}),m.title.error&&n.a.createElement("div",{className:"card-panel red accent-1"},m.title.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"text"},"text"),n.a.createElement("input",{id:"text",type:"text",name:"text",className:"form-control",value:m.text.value,onChange:function(e){return E(e)}}),m.text.error&&n.a.createElement("div",{className:"card-panel red accent-1"},m.text.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"tags"},"Tags ",n.a.createElement("strong",null,"(separate by ' , ')")),n.a.createElement("input",{id:"tags",placeholder:"Exemple,2,3tags",type:"text",name:"tags",className:"form-control",value:m.tags.value,onChange:function(e){return E(e)}}),m.tags.error&&n.a.createElement("div",{className:"card-panel red accent-1"},m.tags.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("input",{checked:c,onChange:function(e){return function(e){var t;e.target.checked?(t={value:!0},l(!0)):(l(!1),t={value:!1}),d(Object(j.a)(Object(j.a)({},m),{isPublic:t}))}(e)},type:"checkbox"}),n.a.createElement("span",null,"Is Public"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"file-field input-field"},n.a.createElement("div",{className:"btn"},n.a.createElement("span",null,"picture"),n.a.createElement("input",{type:"file",value:m.avatar.path,onChange:function(e){return function(e){if(e.target.files){var t=e.target.files[0],a=Object(x.a)({},"avatar",{value:t});d(Object(j.a)(Object(j.a)({},m),a))}}(e)}})),n.a.createElement("div",{className:"file-path-wrapper"},n.a.createElement("input",{id:"avatar",type:"text",name:"avatar",className:"form-control file-path validate"}))),m.avatar.error&&n.a.createElement("div",{className:"card-panel red accent-1"},m.avatar.error))),n.a.createElement("div",{className:"card-action center"},n.a.createElement("button",{type:"submit",className:"btn"},"Valider")))))))},U=function(e){var t=e.match,a=Object(r.useState)(null),c=Object(s.a)(a,2),l=c[0],i=c[1],u=Object(r.useState)(!0),m=Object(s.a)(u,2),d=m[0],v=m[1],p=Object(r.useState)({id:{value:""},text:{value:""},tags:{value:""},title:{value:""},avatar:{value:File},isPublic:{value:d}}),f=Object(s.a)(p,2),h=f[0],E=f[1];Object(r.useEffect)((function(){b.getArticle(+t.params.id).then((function(e){var t=T.a.map(e.Tags,"name"),a=T.a.join(t,","),r={id:{value:e.id,isValid:!0},text:{value:e.text,isValid:!0},tags:{value:a,isValid:!0},title:{value:e.title,isValid:!0},avatar:{value:e.imagePath,isValid:!0},isPublic:{value:e.isPublic,isValid:!0}};E(r),v(e.isPublic),i(e)}))}),[t.params.id]);var g=Object(o.g)(),N=Object(r.useState)("UPDATE ARTICLE"),O=Object(s.a)(N,2),w=O[0],y=O[1],k=function(e){var t=e.target.name,a=e.target.value,r=Object(x.a)({},t,{value:a});E(Object(j.a)(Object(j.a)({},h),r))},V=function(e){if(e.preventDefault(),function(){var e=h;if(h.text.value.length<3){var t={value:h.text.value,error:"Votre text doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{text:t})}else{var a={value:h.text.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{text:a})}if(h.title.value.length<3){var r={value:h.title.value,error:"Votre title doit faire au moins 3 caract\xe8res de long.",isValid:!1};e=Object(j.a)(Object(j.a)({},e),{title:r})}else{var n={value:h.title.value,error:"",isValid:!0};e=Object(j.a)(Object(j.a)({},e),{title:n})}var c={value:h.tags.value,error:"",isValid:!0};return e=Object(j.a)(Object(j.a)({},e),{tags:c}),E(e),e.text.isValid&&e.tags.isValid&&e.title.isValid}()&&l){var t=T.a.split(h.tags.value,","),a=T.a.map(t,T.a.trim);b.updateArtcle(h.id.value,h.text.value,a,h.title.value,h.avatar.value,h.isPublic.value).then((function(e){e?(y("Article ajout\xe9"),g.push("/"),g.goBack()):y("something go wrong")}))}};return n.a.createElement("div",null,l?n.a.createElement("form",{onSubmit:function(e){return V(e)}},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s12 m8 offset-m2"},n.a.createElement("div",{className:"card hoverable"},n.a.createElement("div",{className:"card-image"},n.a.createElement("img",{src:"http://localhost:3000/"+l.imagePath,alt:l.title,style:{width:"250px",margin:"0 auto"}})),n.a.createElement("div",{className:"card-stacked"},n.a.createElement("div",{className:"card-content"},w&&n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"card-panel grey lighten-5"},w)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"title"},"Title"),n.a.createElement("input",{id:"title",type:"text",name:"title",className:"form-control",value:h.title.value,onChange:function(e){return k(e)}}),h.title.error&&n.a.createElement("div",{className:"card-panel red accent-1"},h.title.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"text"},"text"),n.a.createElement("input",{id:"text",type:"text",name:"text",className:"form-control",value:h.text.value,onChange:function(e){return k(e)}}),h.text.error&&n.a.createElement("div",{className:"card-panel red accent-1"},h.text.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"tags"},"Tags ",n.a.createElement("strong",null,"(separate by ' , ')")),n.a.createElement("input",{id:"tags",placeholder:"Exemple,2,3tags",type:"text",name:"tags",className:"form-control",value:h.tags.value,onChange:function(e){return k(e)}}),h.tags.error&&n.a.createElement("div",{className:"card-panel red accent-1"},h.tags.error)),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,n.a.createElement("input",{checked:d,onChange:function(e){return function(e){var t;e.target.checked?(t={value:!0},v(!0)):(v(!1),t={value:!1}),E(Object(j.a)(Object(j.a)({},h),{isPublic:t}))}(e)},type:"checkbox"}),n.a.createElement("span",null,"Is Public"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"file-field input-field"},n.a.createElement("div",{className:"btn"},n.a.createElement("span",null,"picture"),n.a.createElement("input",{type:"file",value:h.avatar.path,onChange:function(e){return function(e){if(e.target.files){var t=e.target.files[0],a=Object(x.a)({},"avatar",{value:t});E(Object(j.a)(Object(j.a)({},h),a))}}(e)}})),n.a.createElement("div",{className:"file-path-wrapper"},n.a.createElement("input",{id:"avatar",type:"text",name:"avatar",className:"form-control file-path validate"}))),h.avatar.error&&n.a.createElement("div",{className:"card-panel red accent-1"},h.avatar.error))),n.a.createElement("div",{className:"card-action center"},n.a.createElement("button",{type:"submit",className:"btn"},"Valider"))))))):n.a.createElement("div",null))},D=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(r.useEffect)((function(){var e=Object(h.get)("user")||"";e&&(k.isAuthenticated=!0),console.log(k.isAuthenticated),c(e)}),[]),n.a.createElement(i.a,null,n.a.createElement("div",null,n.a.createElement("nav",null,n.a.createElement("div",{className:"nav-wrapper  indigo accent-1"},n.a.createElement(i.b,{to:"/",className:"brand-logo center"},"Blog"),n.a.createElement("ul",{className:"right"},a?n.a.createElement("div",{className:"right"},n.a.createElement("li",null,n.a.createElement("div",{className:"chip"},n.a.createElement("img",{className:"imgAvatar",alt:"avatar",src:"http://localhost:3000/"+a.avatarPath}),a.pseudo))):n.a.createElement("li",null,n.a.createElement(i.b,{to:"/login"},"Login")),n.a.createElement("li",null,a&&n.a.createElement(i.b,{onClick:function(){return Object(h.remove)("user"),k.isAuthenticated=!1,void c(void 0)},to:"/",className:"Right btn waves-effect waves-light #ff8a80 red accent-1"},"LogOut"))))),n.a.createElement(o.d,null,n.a.createElement(o.b,{exact:!0,path:"/",component:g}),n.a.createElement(o.b,{exact:!0,path:"/blog",component:g}),n.a.createElement(o.b,{exact:!0,path:"/login",component:V}),n.a.createElement(o.b,{exact:!0,path:"/register",component:S}),n.a.createElement(P,{exact:!0,path:"/articles/add",component:F}),n.a.createElement(P,{exact:!0,path:"/articles/:id",component:y}),n.a.createElement(P,{exact:!0,path:"/articles/edit/:id",component:U}),n.a.createElement(o.b,{exact:!0,path:"/pageNotF",component:N}),n.a.createElement(o.b,{component:N}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(44),a(45);l.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[28,1,2]]]);
//# sourceMappingURL=main.35ecb7a8.chunk.js.map